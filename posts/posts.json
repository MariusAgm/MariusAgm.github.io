[
  {
    "path": "posts/2020-12-28-muestreo-estratificado-ciudad-de-durango/",
    "title": "Muestreo estratificado: Ciudad de Durango",
    "description": "Otro tutorial en R para hacer muestreo estratificado.",
    "author": [
      {
        "name": "Mario",
        "url": "https://marionomics.com/about"
      }
    ],
    "date": "2020-12-28",
    "categories": [
      "R",
      "Estadistica",
      "Tutoriales"
    ],
    "contents": "\nEste post es parte de una serie sobre muestreo estratificado en este blog. En esta parte de la serie vamos a hacer un ejemplo de un muestreo estratificado con datos reales del INEGI, llevando un paso más allá el ejemplo que hicimos en posts anteriores.\nDigamos que queremos hacer un estudio en la ciudad de Durango, Durango y queremos conocer cuál es el tamaño de muestra que requerimos para el mismo.\nComo vimos en este post, si nosotros tomáramos el valiente supuesto de que la población es homogénea, entonces sólo requeriríamos de la información de 384 encuestas para saber lo que necesitamos saber considerando un margen de confianza de 95% y un margen de error de 5%.\nPero como lo sabemos, a pesar de vivir en la misma zona, las personas en Durango somos muy diferentes entre si. Existen muchos factores que nos pueden generar esas diferencias, pero es el mismo investigador el que decide cuáles de estas diferencias son importantes.\nPara este ejemplo tomaremos como principal factor de diferenciación las características de la ocupación del individuo. Para eso, tomaremos la información de la encuesta intercensal 2015 para los municipios de Durango. Entramos al link previo y descargamos el archivo Excel de características económicas.\nDe la tabla que nos genera, necesitamos de dos estimadores: el valor y el error estándar. Los errores estándar nos ayudarán a generar el vector de ruido de nuestra información que nos ayudan a identificar el valor de la muestra que requerimos.\nEn la tabla siguiente, mostramos la estratificación que decidí hacer para este ejemplo, donde tomamos como un estrato a la población No Económicamente Activa (PNEA) y la Población Económicamente Activa (PEA) la segmentamos en la población No Ocupada y Ocupada. Sin embargo, la población Ocupada se divide a su vez entre los sectores en los que trabaja y el sexo de los individuos. De esta manera, vemos que la población se divide de la siguiente manera.\nEstrato\nValor\nError Estándar\nNo especificado\n252.21\n100.89\nPNEA\n235,586.00\n2,471.70\nNo ocupada\n10,933.00\n590.90\nSector Primario: Hombres\n6,977.00\n893.96\nSector Primario: Mujeres\n418.00\n251.69\nSector Secundario: Hombres\n53,439.00\n2,229.03\nSector Secundario: Mujeres\n13,769.00\n1,651.50\nSector Comercio: Hombres\n25,644.00\n1,499.21\nSector Comercio: Mujeres\n21,477.00\n2,039.55\nSector Servicios: Hombres\n68,935.00\n2,329.13\nSector Servicios: Mujeres\n64,838.00\n2,488.86\nNE: Hombres\n1,002.00\n301.19\nNE: Mujeres\n1,158.00\n467.57\n** Total**\n\n504,428.21\nPEA\n268,590.00\n\nOcupada\n257,657.00\n\nUsaremos entonces la función stratasize(), que usamos previamente en el post de muestreo estratificado.\n\n\nNh <- c(252,235586,10933,6977,418,53439,13769,25644,21477,\n        68935,64838,1002,1158)\n#Sh <- c(100,2471,591,894,252,2229,1651,1499,2039,2329,\n#        2489,301,468)\nSh <- c(0.4, 0.01, 0.05, 0.12, 0.6, 0.04, 0.11,\n        0.05, 0.09, 0.03, 0.03, 0.3, 0.4)\nsamplingbook::stratasize(0.1, Nh = Nh, Sh = Sh*100,\n                         level = 0.95, type = 'prop')\n\n\n\nstratamean object: Stratified sample size determination\n\ntype of sample: prop\n\ntotal sample size determinated: 9190\n\nEl tamaño que obtenemos es de 9 mil observaciones. Estas se tienen que dividir de manera proporcional entre los estratos.\n\n\nNh_prop <- Nh/sum(Nh)\nNh_prop <- 9190 * Nh_prop\nNh_prop\n\n\n [1]    4.591101 4292.060195  199.184562  127.111560    7.615398\n [6]  973.586736  250.852669  467.199204  391.282066 1255.903023\n[11] 1181.261191   18.255093   21.097203\n\nEsto nos indica que hay algunas secciones de la población que requieren de 4 mil observaciones y otras sólo 4.\n\n\n\n",
    "preview": {},
    "last_modified": "2020-12-28T21:58:20-06:00",
    "input_file": {}
  }
]
